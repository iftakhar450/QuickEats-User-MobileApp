<ActionBar title="Menu Detail" class="action-bar">
    <NavigationButton text="Go Back" android.systemIcon="ic_menu_back" (tap)="goBack()"></NavigationButton>
</ActionBar>


<side-drawer-page>

    <GridLayout>
        <ActivityIndicator style="color: #e27900" width="80" height="80" horizontalAlignment="center"
                           verticalAlignment="center" #activityIndicator [busy]="isBusy"
                           class="activity-indicator"></ActivityIndicator>


        <StackLayout>

                        <GridLayout   verticalAlignment="top">
                            <image [src]="restaurant_image"></image>

                        </GridLayout>
            <!-------------------------------------------------------------------->
            <ListView [items]="menus" separatorColor="transparent" tkExampleTitle tkToggleNavButton>

                <ng-template tkListItemTemplate let-item="item" let-i="index">

                    <GridLayout columns="*" rows="*,*">
                        <StackLayout row="0" col="0"  >
                            <GridLayout  columns="*" rows="*,1" >
                            <Label row="0" col="0" class="menu" textwrap="true" [text]="item.menu_name"></Label>
                            <Label row="1" col="0" style="background-color:#C7C7CD "></Label>
                            </GridLayout>
                        </StackLayout>


                            <ListView  row="1" col="0" style="background-color: #DCDCDC" [height]="item.length*80" [items]="item.menu_items" (itemTap)="ondetailItemTap($event,i)"
                                      separatorColor="transparent" tkExampleTitle tkToggleNavButton>

                                <ng-template tkListItemTemplate let-item="item" let-i="index">

                                    <GridLayout columns="60,*,*" rows="*,*">
                                        <StackLayout row="0" col="0" *ngIf="[item.quantity]>0">
                                            <Label class="itemquantity" textwrap="true"
                                                   [text]="item.quantity+'x'"></Label>
                                        </StackLayout>
                                        <Label class="itemname" textwrap="true" row="0" col="1"
                                               [text]="item.name"></Label>
                                        <Label class="itemprice" textwrap="true" row="0" col="2"
                                               [text]="item.price+'£'"></Label>

                                        <Label class="itemdetail" textwrap="true" row="1" col="1" colSpan="2"
                                               [text]="item.detail"></Label>


                                    </GridLayout>
                                </ng-template>
                            </ListView>



                    </GridLayout>
                </ng-template>
            </ListView>
            <!-------------------------------------------------------------------->


        </StackLayout>


        <AbsoluteLayout (tap)="noWhere()" horizontalAlignment="right" verticalAlignment="bottom">
            <GridLayout style="width:100%" columns="*,*" rows="*,*">

                <Label row="0" col="0" class="add_to_cart_lable" [text]="add_to_cart+' items'"></Label>
                <Label row="1" col="0" class="cart_price_lable" [text]="'£'+cart_cal"></Label>

                <Image row="0" rowSpan="2" col="1" class="add_to_cart_image" src="res://addtocart"
                       (tap)="on_add_cart_tap()"></Image>


            </GridLayout>

        </AbsoluteLayout>
    </GridLayout>

</side-drawer-page>